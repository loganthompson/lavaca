<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/util/DateUtils.js - lavaca</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="lavaca"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 2.3.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/lavaca.env.Device.html">lavaca.env.Device</a></li>
            
                <li><a href="../classes/lavaca.events.EventDispatcher.html">lavaca.events.EventDispatcher</a></li>
            
                <li><a href="../classes/lavaca.fx.Animation.html">lavaca.fx.Animation</a></li>
            
                <li><a href="../classes/lavaca.fx.Spring.html">lavaca.fx.Spring</a></li>
            
                <li><a href="../classes/lavaca.fx.Transform.html">lavaca.fx.Transform</a></li>
            
                <li><a href="../classes/lavaca.fx.Transition.html">lavaca.fx.Transition</a></li>
            
                <li><a href="../classes/lavaca.mvc.Application.html">lavaca.mvc.Application</a></li>
            
                <li><a href="../classes/lavaca.mvc.AttributeEvent.html">lavaca.mvc.AttributeEvent</a></li>
            
                <li><a href="../classes/lavaca.mvc.Collection.html">lavaca.mvc.Collection</a></li>
            
                <li><a href="../classes/lavaca.mvc.Controller.html">lavaca.mvc.Controller</a></li>
            
                <li><a href="../classes/lavaca.mvc.ItemEvent.html">lavaca.mvc.ItemEvent</a></li>
            
                <li><a href="../classes/lavaca.mvc.Model.html">lavaca.mvc.Model</a></li>
            
                <li><a href="../classes/lavaca.mvc.Route.html">lavaca.mvc.Route</a></li>
            
                <li><a href="../classes/lavaca.mvc.Router.html">lavaca.mvc.Router</a></li>
            
                <li><a href="../classes/lavaca.mvc.View.html">lavaca.mvc.View</a></li>
            
                <li><a href="../classes/lavaca.mvc.ViewManager.html">lavaca.mvc.ViewManager</a></li>
            
                <li><a href="../classes/lavaca.net.Connectivity.html">lavaca.net.Connectivity</a></li>
            
                <li><a href="../classes/lavaca.net.History.html">lavaca.net.History</a></li>
            
                <li><a href="../classes/lavaca.storage.LocalStore.html">lavaca.storage.LocalStore</a></li>
            
                <li><a href="../classes/lavaca.storage.Store.html">lavaca.storage.Store</a></li>
            
                <li><a href="../classes/lavaca.ui.DustTemplate.html">lavaca.ui.DustTemplate</a></li>
            
                <li><a href="../classes/lavaca.ui.Form.html">lavaca.ui.Form</a></li>
            
                <li><a href="../classes/lavaca.ui.LoadingIndicator.html">lavaca.ui.LoadingIndicator</a></li>
            
                <li><a href="../classes/lavaca.ui.Template.html">lavaca.ui.Template</a></li>
            
                <li><a href="../classes/lavaca.ui.Widget.html">lavaca.ui.Widget</a></li>
            
                <li><a href="../classes/lavaca.util.ArrayUtils.html">lavaca.util.ArrayUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Cache.html">lavaca.util.Cache</a></li>
            
                <li><a href="../classes/lavaca.util.Config.html">lavaca.util.Config</a></li>
            
                <li><a href="../classes/lavaca.util.DateUtils.html">lavaca.util.DateUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Disposable.html">lavaca.util.Disposable</a></li>
            
                <li><a href="../classes/lavaca.util.extend.html">lavaca.util.extend</a></li>
            
                <li><a href="../classes/lavaca.util.Map.html">lavaca.util.Map</a></li>
            
                <li><a href="../classes/lavaca.util.Promise.html">lavaca.util.Promise</a></li>
            
                <li><a href="../classes/lavaca.util.resolve.html">lavaca.util.resolve</a></li>
            
                <li><a href="../classes/lavaca.util.StringUtils.html">lavaca.util.StringUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Translation.html">lavaca.util.Translation</a></li>
            
                <li><a href="../classes/lavaca.util.uuid.html">lavaca.util.uuid</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/util/DateUtils.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
define(function(require) {

  var Translation = require(&#x27;./Translation&#x27;);

  /**
   * Utility class for working with dates
   * @class lavaca.util.DateUtils
   */
  var DateUtils = {};

  function _int(input) {
    return parseInt(input, 10);
  }

  function _indexOfCode(input, array) {
    input = input.toLowerCase();
    var i = -1,
        code;
    while (!!(code = array[++i])) {
      if (input === code.toLowerCase() || input === _translate(code).toLowerCase()) {
        return i - 1;
      }
    }
    throw &#x27;Invalid code &quot;&#x27; + code + &#x27;&quot;&#x27;;
  }

  function _pad(n, digits, c) {
    var sign = n &lt; 0 ? &#x27;-&#x27; : &#x27;&#x27;;
    c = c || &#x27;0&#x27;;
    n = Math.abs(n).toString();
    while (digits - n.length &gt; 0) {
      n = c + n;
    }
    return sign + n;
  }

  function _translate(s) {
    return Translation.get(s);
  }

  /**
   * The time of day abbreviation. You can supply [[Lavaca.util.Translation]] values using these names as keys to translate.
   * @property {Array} timeOfDayDesignatorAbbr
   * @static
   * @default [&quot;A&quot;, &quot;P&quot;]*/
  DateUtils.timeOfDayDesignatorAbbr = [
    &#x27;A&#x27;,
    &#x27;P&#x27;
  ];

  /**
   * The time of day. You can supply [[Lavaca.util.Translation]] values using these names as keys to translate.
   * @property {Array} timeOfDayDesignator
   * @static
   * @default [&quot;AM&quot;, &quot;PM&quot;]
   */
  DateUtils.timeOfDayDesignator = [
    &#x27;AM&#x27;,
    &#x27;PM&#x27;
  ];

  /**
   * The abbreviated days of the week. You can supply [[Lavaca.util.Translation]] values using these names as keys to translate.
   * @property {Array} daysOfWeekAbbr
   * @static
   * @default [&quot;Sun&quot;, &quot;Mon&quot;, &quot;Tue&quot;, &quot;Wed&quot;, &quot;Thu&quot;, &quot;Fri&quot;, &quot;Sat&quot;]
   * */
  DateUtils.daysOfWeekAbbr = [
    &#x27;Sun&#x27;,
    &#x27;Mon&#x27;,
    &#x27;Tue&#x27;,
    &#x27;Wed&#x27;,
    &#x27;Thu&#x27;,
    &#x27;Fri&#x27;,
    &#x27;Sat&#x27;
  ];

  /**
   * The days of the week. You can supply [[Lavaca.util.Translation]] values using these names as keys to translate.
   * @property {Array} daysOfWeek
   * @static
   * @default [&quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot;, &quot;Wednesday&quot;, &quot;Thursday&quot;, &quot;Friday&quot;, &quot;Saturday&quot;]
   */
  DateUtils.daysOfWeek = [
    &#x27;Sunday&#x27;,
    &#x27;Monday&#x27;,
    &#x27;Tuesday&#x27;,
    &#x27;Wednesday&#x27;,
    &#x27;Thursday&#x27;,
    &#x27;Friday&#x27;,
    &#x27;Saturday&#x27;
  ];

  /**
   * The abbreviated months. You can supply [[Lavaca.util.Translation]] values using these names as keys to translate.
   * @property {Array} monthsAbbr
   * @static
   * @default [&quot;Jan&quot;, &quot;Feb&quot;, &quot;Mar&quot;, &quot;Apr&quot;, &quot;May&quot;, &quot;Jun&quot;, &quot;Jul&quot;, &quot;Aug&quot;, &quot;Sep&quot;, &quot;Oct&quot;, &quot;Nov&quot;, &quot;Dec&quot;]
   */
  DateUtils.monthsAbbr = [
    &#x27;Jan&#x27;,
    &#x27;Feb&#x27;,
    &#x27;Mar&#x27;,
    &#x27;Apr&#x27;,
    &#x27;May&#x27;,
    &#x27;Jun&#x27;,
    &#x27;Jul&#x27;,
    &#x27;Aug&#x27;,
    &#x27;Sep&#x27;,
    &#x27;Oct&#x27;,
    &#x27;Nov&#x27;,
    &#x27;Dec&#x27;
  ];

  /**
   * The months. You can supply [[Lavaca.util.Translation]] values using these names as keys to translate.
   * @property {Array} months
   * @static
   * @default [&quot;January&quot;, &quot;February&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;, &quot;June&quot;, &quot;July&quot;, &quot;August&quot;, &quot;September&quot;, &quot;October&quot;, &quot;November&quot;, &quot;December&quot;]
   */
  DateUtils.months = [
    &#x27;January&#x27;,
    &#x27;February&#x27;,
    &#x27;March&#x27;,
    &#x27;April&#x27;,
    &#x27;May&#x27;,
    &#x27;June&#x27;,
    &#x27;July&#x27;,
    &#x27;August&#x27;,
    &#x27;September&#x27;,
    &#x27;October&#x27;,
    &#x27;November&#x27;,
    &#x27;December&#x27;
  ];

  /**
   * Object containing the functions used by each date format code. Default format codes are:
   *
   * &lt;dl&gt;
   * &lt;dt&gt;d&lt;/dt&gt; &lt;dd&gt;Day of month (1 - 31)&lt;/dd&gt;
   * &lt;dt&gt;dd&lt;/dt&gt; &lt;dd&gt;Padded day of month (01 - 31)&lt;/dd&gt;
   * &lt;dt&gt;ddd&lt;/dt&gt; &lt;dd&gt;Abbreviated day of week (Sun - Sat)&lt;/dd&gt;
   * &lt;dt&gt;ddd&lt;/dt&gt; &lt;dd&gt;Full day of week (Sunday - Saturday)&lt;/dd&gt;
   * &lt;dt&gt;f&lt;/dt&gt; &lt;dd&gt;Tenth of a second&lt;/dd&gt;
   * &lt;dt&gt;ff&lt;/dt&gt; &lt;dd&gt;Hundreth of a second&lt;/dd&gt;
   * &lt;dt&gt;fff&lt;/dt&gt; &lt;dd&gt;Milliseconds&lt;/dd&gt;
   * &lt;dt&gt;h&lt;/dt&gt; &lt;dd&gt;Twelve-hour clock hour (1 - 12)&lt;/dd&gt;
   * &lt;dt&gt;hh&lt;/dt&gt; &lt;dd&gt;Padded twelve-hour clock hour (01 - 12)&lt;/dd&gt;
   * &lt;dt&gt;H&lt;/dt&gt; &lt;dd&gt;Twenty-four hour clock hour (0 - 23)&lt;/dd&gt;
   * &lt;dt&gt;HH&lt;/dt&gt; &lt;dd&gt;Padded twenty-four hour clock hour (00 - 23)&lt;/dd&gt;
   * &lt;dt&gt;m&lt;/dt&gt; &lt;dd&gt;Minute (0 - 59)&lt;/dd&gt;
   * &lt;dt&gt;mm&lt;/dt&gt; &lt;dd&gt;Padded minute (00 - 59)&lt;/dd&gt;
   * &lt;dt&gt;M&lt;/dt&gt; &lt;dd&gt;Month (1 - 12)&lt;/dd&gt;
   * &lt;dt&gt;MM&lt;/dt&gt; &lt;dd&gt;Padded month (01 - 12)&lt;/dd&gt;
   * &lt;dt&gt;MMM&lt;/dt&gt; &lt;dd&gt;Abbreviated month (Jan - Dec)&lt;/dd&gt;
   * &lt;dt&gt;MMMM&lt;/dt&gt; &lt;dd&gt;Full month (January - December)&lt;/dd&gt;
   * &lt;dt&gt;s&lt;/dt&gt; &lt;dd&gt;Second (0 - 59)&lt;/dd&gt;
   * &lt;dt&gt;ss&lt;/dt&gt; &lt;dd&gt;Padded second (00 - 59)&lt;/dd&gt;
   * &lt;dt&gt;t&lt;/dt&gt; &lt;dd&gt;Abbreviated AM/PM designator (A or P)&lt;/dd&gt;
   * &lt;dt&gt;tt&lt;/dt&gt; &lt;dd&gt;Full AM/PM designator (AM or PM)&lt;/dd&gt;
   * &lt;dt&gt;y&lt;/dt&gt; &lt;dd&gt;Short year (0 - 99)&lt;/dd&gt;
   * &lt;dt&gt;yy&lt;/dt&gt; &lt;dd&gt;Padded short year (00 - 99)&lt;/dd&gt;
   * &lt;dt&gt;yyy&lt;/dt&gt; &lt;dd&gt;Full year padded to at least 3 digits (000+)&lt;/dd&gt;
   * &lt;dt&gt;yyyy&lt;/dt&gt; &lt;dd&gt;Full year padded to at least 4 digits (0000+)&lt;/dd&gt;
   * &lt;dt&gt;z&lt;/dt&gt; &lt;dd&gt;Hours offset from UTC (-12, 0, 12)&lt;/dd&gt;
   * &lt;dt&gt;zz&lt;/dt&gt; &lt;dd&gt;Padded hours offset from UTC (-12, 00, 12)&lt;/dd&gt;
   * &lt;dt&gt;zzz&lt;/dt&gt; &lt;dd&gt;Padded hours and minute offset from UTC (-12:00, 00:00, 12:00)&lt;/dd&gt;
   * &lt;/dl&gt;
   *
   * To add a custom format code, assign this property an object containing an &lt;code&gt;i&lt;/code&gt; function (responsible for parsing)
   * and an &lt;code&gt;o&lt;/code&gt; function (responsible for stringifying). The &lt;code&gt;i&lt;/code&gt; function
   * should assign to one of the following properties of its second argument: date, month, year,
   * hour, minute, second, ms, or offset. Example: &lt;code&gt;Lavaca.util.DateUtils.fn.QQQ = {i: function(input, dateObj, mappedObj) { dateObj.date = parseInt(input, 10); }, o: function(date, utc) { return (utc ? date.getUTCDate() : date.getDate()).toString(); }};&lt;/code&gt;
   *
   * @property {Object} fn
   * @static
   */
  DateUtils.fn = {
    d: {
      exp: &#x27;\\d{1,2}&#x27;,
      i: function(input, dateObj) {
        dateObj.date = _int(input);
      },
      o: function(date, utc) {
        return (utc ? date.getUTCDate() : date.getDate()).toString();
      }
    },
    dd: {
      exp: &#x27;\\d{2}&#x27;,
      i: function(input, dateObj) {
        dateObj.date = _int(input);
      },
      o: function(date, utc) {
        return _pad(DateUtils.fn.d.o(date, utc), 2);
      }
    },
    ddd: {
      exp: &#x27;[a-z]{3}&#x27;,
      i: function() {
        // Do nothing
      },
      o: function(date, utc) {
        return _translate(DateUtils.daysOfWeekAbbr[utc ? date.getUTCDay() : date.getDay()]);
      }
    },
    dddd: {
      exp: &#x27;[a-z]+&#x27;,
      i: function() {
        // Do nothing
      },
      o: function(date, utc) {
        return _translate(DateUtils.daysOfWeek[utc ? date.getUTCDay() : date.getDay()]);
      }
    },
    f: {
      exp: &#x27;\\d&#x27;,
      i: function(input, dateObj) {
        dateObj.ms = _int(input) * 100;
      },
      o: function(date, utc, divisor) {
        divisor = divisor || 100;
        return _pad(Math.floor((utc ? date.getUTCMilliseconds() : date.getMilliseconds()) / divisor), 3 - divisor.toString().length);
      }
    },
    ff: {
      exp: &#x27;\\d{2}&#x27;,
      i: function(input, dateObj) {
        dateObj.ms = _int(input) * 10;
      },
      o: function(date, utc) {
        return _pad(DateUtils.fn.f.o(date, utc, 10), 2);
      }
    },
    fff: {
      exp: &#x27;\\d{3}&#x27;,
      i: function(input, dateObj) {
        dateObj.ms = _int(input, 10);
      },
      o: function(date, utc) {
        return _pad(DateUtils.fn.f.o(date, utc, 1), 3);
      }
    },
    h: {
      exp: &#x27;1?\\d&#x27;,
      i: function(input, dateObj, mappedObj) {
        var h = _int(input) - 1,
            tod = (mappedObj.t || mappedObj.tt || &#x27;A&#x27;).indexOf(&#x27;A&#x27;) === 0 ? 0 : 12;
        dateObj.hour = h + tod;
      },
      o: function(date, utc) {
        return ((utc ? date.getUTCHours() : date.getHours()) % 12 + 1).toString();
      }
    },
    hh: {
      exp: &#x27;[0-1]\\d&#x27;,
      i: function(input, dateObj, mappedObj) {
        DateUtils.fn.h.i(input, dateObj, mappedObj);
      },
      o: function(date, utc) {
        return _pad(DateUtils.fn.h.o(date, utc), 2);
      }
    },
    H: {
      exp: &#x27;[0-2]?\\d&#x27;,
      i: function(input, dateObj) {
        dateObj.hour = _int(input);
      },
      o: function(date, utc) {
        return (utc ? date.getUTCHours() : date.getHours()).toString();
      }
    },
    HH: {
      exp: &#x27;[0-2]\\d&#x27;,
      i: function(input, dateObj) {
        dateObj.hour = _int(input);
      },
      o: function (date, utc) {
        return _pad(DateUtils.fn.H.o(date, utc), 2);
      }
    },
    m: {
      exp: &#x27;[1-5]?\\d&#x27;,
      i: function(input, dateObj) {
        dateObj.minute = _int(input);
      },
      o: function(date, utc) {
        return (utc ? date.getUTCMinutes() : date.getMinutes()).toString();
      }
    },
    mm: {
      exp: &#x27;[0-5]\\d&#x27;,
      i: function(input, dateObj, mappedObj) {
        DateUtils.fn.m.i(input, dateObj, mappedObj);
      },
      o: function(date, utc) {
        return _pad(DateUtils.fn.m.o(date, utc), 2);
      }
    },
    M: {
      exp: &#x27;1?\\d&#x27;,
      i: function(input, dateObj) {
        dateObj.month = _int(input) - 1;
      },
      o: function(date, utc) {
        return ((utc ? date.getUTCMonth() : date.getMonth()) + 1).toString();
      }
    },
    MM: {
      exp: &#x27;[0-1]\\d&#x27;,
      i: function(input, dateObj, mappedObj) {
        DateUtils.fn.M.i(input, dateObj, mappedObj);
      },
      o: function(date, utc) {
        return _pad(DateUtils.fn.M.o(date, utc), 2);
      }
    },
    MMM: {
      exp: &#x27;[a-z]{3}&#x27;,
      i: function(input, dateObj) {
        dateObj.month = _indexOfCode(input, DateUtils.monthsAbbr);
      },
      o: function(date, utc) {
        return _translate(DateUtils.monthsAbbr[utc ? date.getUTCMonth() : date.getMonth()]);
      }
    },
    MMMM: {
      exp: &#x27;[a-z]+&#x27;,
      i: function(input, dateObj) {
        dateObj.month = _indexOfCode(input, DateUtils.months);
      },
      o: function(date, utc) {
        return _translate(DateUtils.months[utc ? date.getUTCMonth() : date.getMonth()]);
      }
    },
    s: {
      exp: &#x27;[1-5]?\\d&#x27;,
      i: function(input, dateObj) {
        dateObj.second = _int(input);
      },
      o: function(date, utc) {
        return (utc ? date.getUTCSeconds() : date.getSeconds()).toString();
      }
    },
    ss: {
      exp: &#x27;[0-5]\\d&#x27;,
      i: function(input, dateObj, mappedObj) {
        DateUtils.fn.s.i(input, dateObj, mappedObj);
      },
      o: function(date, utc) {
        return _pad(DateUtils.fn.s.o(date, utc), 2);
      }
    },
    t: {
      exp: &#x27;[a-z]&#x27;,
      i: function() {
        // Do nothing
      },
      o: function(date, utc) {
        return _translate(DateUtils.timeOfDayDesignatorAbbr[Math.floor((utc ? date.getUTCHours() : date.getHours()) / 12)]);
      }
    },
    tt: {
      exp: &#x27;[a-z]+&#x27;,
      i: function() {
        // Do nothing
      },
      o: function(date, utc) {
        return _translate(DateUtils.timeOfDayDesignator[Math.floor((utc ? date.getUTCHours() : date.getHours()) / 12)]);
      }
    },
    y: {
      exp: &#x27;\\d?\\d&#x27;,
      i: function(input, dateObj) {
        dateObj.year = (new Date()).getFullYear() % 100 + _int(input);
      },
      o: function(date, utc) {
        return ((utc ? date.getUTCFullYear() : date.getFullYear()) % 100).toString();
      }
    },
    yy: {
      exp: &#x27;\\d{2}&#x27;,
      i: function(input, dateObj, mappedObj) {
        DateUtils.fn.y.i(input, dateObj, mappedObj);
      },
      o: function(date, utc) {
        return _pad(DateUtils.fn.y.o(date, utc), 2);
      }
    },
    yyy: {
      exp: &#x27;\\d*\\d{3}&#x27;,
      i: function(input, dateObj) {
        dateObj.year = _int(input);
      },
      o: function(date, utc) {
        return _pad(utc ? date.getUTCFullYear() : date.getFullYear(), 3);
      }
    },
    yyyy: {
      exp: &#x27;\\d*\\d{4}&#x27;,
      i: function(input, dateObj, mappedObj) {
        DateUtils.fn.yyy.i(input, dateObj, mappedObj);
      },
      o: function(date, utc) {
        return _pad(utc ? date.getUTCFullYear() : date.getFullYear(), 4);
      }
    },
    z: {
      exp: &#x27;[-+]?1?\\d&#x27;,
      i: function(input, dateObj) {
        dateObj.offset = _int(input) * 60;
      },
      o: function(date, padding) {
        var off = date.getTimezoneOffset(),
            offH = Math.floor(Math.abs(off / 60));
        return (off &lt; 0 ? &#x27;-&#x27; : &#x27;+&#x27;) + _pad(offH, padding);
      }
    },
    zz: {
      exp: &#x27;[-+]?[0-1]\\d&#x27;,
      i: function(input, dateObj, mappedObj) {
        DateUtils.fn.z.i(input, dateObj, mappedObj);
      },
      o: function(date) {
        return DateUtils.fn.z.o(date, 2);
      }
    },
    zzz: {
      exp: &#x27;[-+]?[0-1]\\d:\\d{2}&#x27;,
      i: function(input, dateObj) {
        var parts = input.split(&#x27;:&#x27;);
        dateObj.offset = _int(parts[0]) * 60 + _int(parts[1]);
      },
      o: function(date) {
        var z = date.getTimezoneOffset(),
            sign = z &gt; 0 ? &#x27;-&#x27; : &#x27;+&#x27;,
            m = z % 60,
            h = Math.abs((z - m) / 60);
        return sign + _pad(h, 2) + &#x27;:&#x27; + _pad(Math.abs(m), 2);
      }
    }
  };

  function _parseFormat(f) {
    var actors = [],
        buffer = &#x27;&#x27;,
        i = -1,
        bufferChar,
        c;
    while (!!(c = f.charAt(++i))) {
      bufferChar = buffer.charAt(0);
      if (bufferChar === c || bufferChar === &#x27;&quot;&#x27; || bufferChar === &#x27;\&#x27;&#x27;) {
        buffer += c;
        if ((bufferChar === &#x27;&quot;&#x27; &amp;&amp; c === &#x27;&quot;&#x27;) || (bufferChar === &#x27;\&#x27;&#x27; &amp;&amp; c === &#x27;\&#x27;&#x27;)) {
          actors.push(buffer);
          buffer = &#x27;&#x27;;
        }
      } else {
        if (buffer) {
          actors.push(buffer);
        }
        buffer = c;
      }
    }
    if (buffer) {
      actors.push(buffer);
    }
    return actors;
  }

  function _actorsToRegex(actors) {
    var s = [&#x27;^&#x27;],
        i = -1,
        actor,
        handler;
    while (!!(actor = actors[++i])) {
      handler = DateUtils.fn[actor];
      if (handler) {
        s.push(&#x27;(&#x27;, handler.exp, &#x27;)&#x27;);
      } else {
        s.push(&#x27;(&#x27;, actor.replace(/(^&quot;)|(^&#x27;)|(&#x27;$)|(&quot;$)/g, &#x27;&#x27;).replace(/[-[\]{}()*+?.,\\^$|#\s]/g, &#x27;\\$&amp;&#x27;), &#x27;)&#x27;);
      }
    }
    s.push(&#x27;$&#x27;);
    return new RegExp(s.join(&#x27;&#x27;));
  }

  /**
   * @method parse
   * @static
   * Converts a string to a date
   *
   * @param {String} s  The date string
   * @param {String} f  The format of the date string
   * @return {Date}  The parsed date
   */
  DateUtils.parse = function(s, f) {
    var actors = _parseFormat(f),
        exp = _actorsToRegex(actors),
        dateObj = {year: 0, month: 0, date: 1, hour: 0, minute: 0, second: 0, ms: 0, offset: 0},
        mappedObj = {},
        i = -1,
        actor,
        match,
        handler;
    if (exp.test(s)) {
      match = exp.exec(s);
      while (!!(actor = actors[++i])) {
        mappedObj[actor] = match[i + 1];
      }
    }
    for (actor in mappedObj) {
      handler = DateUtils.fn[actor];
      if (handler) {
        handler.i(mappedObj[actor], dateObj, mappedObj);
      }
    }
    return new Date(
        DateUtils.monthsAbbr[dateObj.month]
      + &#x27; &#x27;
      + _pad(dateObj.date, 2)
      + &#x27; &#x27;
      + _pad(dateObj.year, 4)
      + &#x27; &#x27;
      + _pad(dateObj.hour, 2)
      + &#x27;:&#x27;
      + _pad(dateObj.minute, 2)
      + &#x27;:&#x27;
      + _pad(dateObj.second, 2)
      + (dateObj.ms &gt; 0 ? &#x27;.&#x27; + _pad(dateObj.ms, 3) : &#x27;&#x27;)
      + (dateObj.offset &gt;= 0 ? &#x27;+&#x27; : &#x27;-&#x27;)
      + _pad(Math.floor(Math.abs(dateObj.offset / 60)), 2)
      + _pad(Math.abs(dateObj.offset % 60), 2));
  };

  /**
   * Converts a date to a string
   * @method stringify
   * @static
   * @param {Date} d  The date
   * @param {String} f  The string format of the date
   * @return {String}  The stringified date
   */
   /**
   * Converts a date to a string
   * @method stringify
   * @static
   * @param {Date} d  The date
   * @param {String} f  The string format of the date
   * @param {Boolean} utc  When true, use the UTC date to generate the string
   * @return {String}  The stringified date
   */
  DateUtils.stringify = function(d, f, utc) {
    var actors = _parseFormat(f),
        i = -1,
        s = [],
        actor,
        handler;
    while (!!(actor = actors[++i])) {
      handler = DateUtils.fn[actor];
      if (handler) {
        s.push(handler.o(d, utc));
      } else {
        s.push(actor.replace(/(^&quot;)|(^&#x27;)|(&#x27;$)|(&quot;$)/g, &#x27;&#x27;));
      }
    }
    return s.join(&#x27;&#x27;);
  };

  return DateUtils;

});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
