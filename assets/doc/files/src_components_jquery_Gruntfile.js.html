<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/components/jquery/Gruntfile.js - lavaca</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="lavaca"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 2.3.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/lavaca.env.Device.html">lavaca.env.Device</a></li>
            
                <li><a href="../classes/lavaca.events.EventDispatcher.html">lavaca.events.EventDispatcher</a></li>
            
                <li><a href="../classes/lavaca.fx.Animation.html">lavaca.fx.Animation</a></li>
            
                <li><a href="../classes/lavaca.fx.Spring.html">lavaca.fx.Spring</a></li>
            
                <li><a href="../classes/lavaca.fx.Transform.html">lavaca.fx.Transform</a></li>
            
                <li><a href="../classes/lavaca.fx.Transition.html">lavaca.fx.Transition</a></li>
            
                <li><a href="../classes/lavaca.mvc.Application.html">lavaca.mvc.Application</a></li>
            
                <li><a href="../classes/lavaca.mvc.AttributeEvent.html">lavaca.mvc.AttributeEvent</a></li>
            
                <li><a href="../classes/lavaca.mvc.Collection.html">lavaca.mvc.Collection</a></li>
            
                <li><a href="../classes/lavaca.mvc.Controller.html">lavaca.mvc.Controller</a></li>
            
                <li><a href="../classes/lavaca.mvc.ItemEvent.html">lavaca.mvc.ItemEvent</a></li>
            
                <li><a href="../classes/lavaca.mvc.Model.html">lavaca.mvc.Model</a></li>
            
                <li><a href="../classes/lavaca.mvc.Route.html">lavaca.mvc.Route</a></li>
            
                <li><a href="../classes/lavaca.mvc.Router.html">lavaca.mvc.Router</a></li>
            
                <li><a href="../classes/lavaca.mvc.View.html">lavaca.mvc.View</a></li>
            
                <li><a href="../classes/lavaca.mvc.ViewManager.html">lavaca.mvc.ViewManager</a></li>
            
                <li><a href="../classes/lavaca.net.Connectivity.html">lavaca.net.Connectivity</a></li>
            
                <li><a href="../classes/lavaca.net.History.html">lavaca.net.History</a></li>
            
                <li><a href="../classes/lavaca.storage.LocalStore.html">lavaca.storage.LocalStore</a></li>
            
                <li><a href="../classes/lavaca.storage.Store.html">lavaca.storage.Store</a></li>
            
                <li><a href="../classes/lavaca.ui.DustTemplate.html">lavaca.ui.DustTemplate</a></li>
            
                <li><a href="../classes/lavaca.ui.Form.html">lavaca.ui.Form</a></li>
            
                <li><a href="../classes/lavaca.ui.LoadingIndicator.html">lavaca.ui.LoadingIndicator</a></li>
            
                <li><a href="../classes/lavaca.ui.Template.html">lavaca.ui.Template</a></li>
            
                <li><a href="../classes/lavaca.ui.Widget.html">lavaca.ui.Widget</a></li>
            
                <li><a href="../classes/lavaca.util.ArrayUtils.html">lavaca.util.ArrayUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Cache.html">lavaca.util.Cache</a></li>
            
                <li><a href="../classes/lavaca.util.Config.html">lavaca.util.Config</a></li>
            
                <li><a href="../classes/lavaca.util.DateUtils.html">lavaca.util.DateUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Disposable.html">lavaca.util.Disposable</a></li>
            
                <li><a href="../classes/lavaca.util.extend.html">lavaca.util.extend</a></li>
            
                <li><a href="../classes/lavaca.util.Map.html">lavaca.util.Map</a></li>
            
                <li><a href="../classes/lavaca.util.Promise.html">lavaca.util.Promise</a></li>
            
                <li><a href="../classes/lavaca.util.resolve.html">lavaca.util.resolve</a></li>
            
                <li><a href="../classes/lavaca.util.StringUtils.html">lavaca.util.StringUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Translation.html">lavaca.util.Translation</a></li>
            
                <li><a href="../classes/lavaca.util.uuid.html">lavaca.util.uuid</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/components/jquery/Gruntfile.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
module.exports = function( grunt ) {

	&quot;use strict&quot;;

	var distpaths = [
			&quot;dist/jquery.js&quot;,
			&quot;dist/jquery.min.map&quot;,
			&quot;dist/jquery.min.js&quot;
		],
		gzip = require(&quot;gzip-js&quot;),
		readOptionalJSON = function( filepath ) {
			var data = {};
			try {
				data = grunt.file.readJSON( filepath );
			} catch(e) {}
			return data;
		},
		srcHintOptions = readOptionalJSON(&quot;src/.jshintrc&quot;);

	// The concatenated file won&#x27;t pass onevar
	// But our modules can
	delete srcHintOptions.onevar;

	grunt.initConfig({
		pkg: grunt.file.readJSON(&quot;package.json&quot;),
		dst: readOptionalJSON(&quot;dist/.destination.json&quot;),
		compare_size: {
			files: [ &quot;dist/jquery.js&quot;, &quot;dist/jquery.min.js&quot; ],
			options: {
				compress: {
					gz: function( contents ) {
						return gzip.zip( contents, {} ).length;
					}
				},
				cache: &quot;dist/.sizecache.json&quot;
			}
		},
		selector: {
			destFile: &quot;src/selector-sizzle.js&quot;,
			apiFile: &quot;src/sizzle-jquery.js&quot;,
			srcFile: &quot;src/sizzle/dist/sizzle.js&quot;
		},
		build: {
			all: {
				dest: &quot;dist/jquery.js&quot;,
				src: [
					&quot;src/intro.js&quot;,
					&quot;src/core.js&quot;,
					{ flag: &quot;sizzle&quot;, src: &quot;src/selector-sizzle.js&quot;, alt: &quot;src/selector-native.js&quot; },
					&quot;src/callbacks.js&quot;,
					&quot;src/deferred.js&quot;,
					&quot;src/support.js&quot;,
					&quot;src/data.js&quot;,
					&quot;src/queue.js&quot;,
					&quot;src/attributes.js&quot;,
					&quot;src/event.js&quot;,
					&quot;src/traversing.js&quot;,
					&quot;src/manipulation.js&quot;,
					{ flag: &quot;wrap&quot;, src: &quot;src/wrap.js&quot; },
					{ flag: &quot;css&quot;, src: &quot;src/css.js&quot; },
					&quot;src/serialize.js&quot;,
					{ flag: &quot;event-alias&quot;, src: &quot;src/event-alias.js&quot; },
					{ flag: &quot;ajax&quot;, src: &quot;src/ajax.js&quot; },
					{ flag: &quot;ajax/script&quot;, src: &quot;src/ajax/script.js&quot;, needs: [&quot;ajax&quot;]  },
					{ flag: &quot;ajax/jsonp&quot;, src: &quot;src/ajax/jsonp.js&quot;, needs: [ &quot;ajax&quot;, &quot;ajax/script&quot; ]  },
					{ flag: &quot;ajax/xhr&quot;, src: &quot;src/ajax/xhr.js&quot;, needs: [&quot;ajax&quot;]  },
					{ flag: &quot;effects&quot;, src: &quot;src/effects.js&quot;, needs: [&quot;css&quot;] },
					{ flag: &quot;offset&quot;, src: &quot;src/offset.js&quot;, needs: [&quot;css&quot;] },
					{ flag: &quot;dimensions&quot;, src: &quot;src/dimensions.js&quot;, needs: [&quot;css&quot;] },
					{ flag: &quot;deprecated&quot;, src: &quot;src/deprecated.js&quot; },

					&quot;src/exports.js&quot;,
					&quot;src/outro.js&quot;
				]
			}
		},

		jshint: {
			dist: {
				src: [ &quot;dist/jquery.js&quot; ],
				options: srcHintOptions
			},
			grunt: {
				src: [ &quot;Gruntfile.js&quot; ],
				options: {
					jshintrc: &quot;.jshintrc&quot;
				}
			},
			tests: {
				// TODO: Once .jshintignore is supported, use that instead.
				// issue located here: https://github.com/gruntjs/grunt-contrib-jshint/issues/1
				src: [ &quot;test/data/{test,testinit,testrunner}.js&quot;, &quot;test/unit/**/*.js&quot; ],
				options: {
					jshintrc: &quot;test/.jshintrc&quot;
				}
			}
		},

		testswarm: {
			tests: &quot;ajax attributes callbacks core css data deferred dimensions effects event manipulation offset queue selector serialize support traversing Sizzle&quot;.split(&quot; &quot;)
		},

		watch: {
			files: [ &quot;&lt;%= jshint.grunt.src %&gt;&quot;, &quot;&lt;%= jshint.tests.src %&gt;&quot;, &quot;src/**/*.js&quot; ],
			tasks: &quot;dev&quot;
		},

		&quot;pre-uglify&quot;: {
			all: {
				files: {
					&quot;dist/jquery.pre-min.js&quot;: [ &quot;dist/jquery.js&quot; ]
				},
				options: {
					banner: &quot;\n\n\n\n\n\n\n\n\n\n&quot; + // banner line size must be preserved
						&quot;/*! jQuery v&lt;%= pkg.version %&gt; | &quot; +
						&quot;(c) 2005, 2013 jQuery Foundation, Inc. | &quot; +
						&quot;jquery.org/license\n&quot; +
						&quot;//@ sourceMappingURL=jquery.min.map\n&quot; +
						&quot;*/\n&quot;
				}
			}
		},
		uglify: {
			all: {
				files: {
					&quot;dist/jquery.min.js&quot;: [ &quot;dist/jquery.pre-min.js&quot; ]
				},
				options: {
					// Keep our hard-coded banner
					preserveComments: &quot;some&quot;,
					sourceMap: &quot;dist/jquery.min.map&quot;,
					sourceMappingURL: &quot;jquery.min.map&quot;,
					report: &quot;min&quot;,
					beautify: {
						ascii_only: true
					},
					compress: {
						hoist_funs: false,
						join_vars: false,
						loops: false,
						unused: false
					},
					mangle: {
						// saves some bytes when gzipped
						except: [ &quot;undefined&quot; ]
					}
				}
			}
		},
		&quot;post-uglify&quot;: {
			all: {
				files: {
					&quot;dist/jquery.min.map.tmp&quot;: [ &quot;dist/jquery.min.map&quot; ],
					&quot;dist/jquery.min.js.tmp&quot;: [ &quot;dist/jquery.min.js&quot; ]
				},
				options: {
					tempFiles: [ &quot;dist/jquery.min.map.tmp&quot;, &quot;dist/jquery.min.js.tmp&quot;, &quot;dist/jquery.pre-min.js&quot; ]
				}
			}
		}
	});

	grunt.registerTask( &quot;testswarm&quot;, function( commit, configFile ) {
		var jobName,
			testswarm = require( &quot;testswarm&quot; ),
			runs = {},
			done = this.async(),
			pull = /PR-(\d+)/.exec( commit ),
			config = grunt.file.readJSON( configFile ).jquery,
			tests = grunt.config([ this.name, &quot;tests&quot; ]);

		if ( pull ) {
			jobName = &quot;jQuery pull &lt;a href=&#x27;https://github.com/jquery/jquery/pull/&quot; +
				pull[ 1 ] + &quot;&#x27;&gt;#&quot; + pull[ 1 ] + &quot;&lt;/a&gt;&quot;;
		} else {
			jobName = &quot;jQuery commit #&lt;a href=&#x27;https://github.com/jquery/jquery/commit/&quot; +
				commit + &quot;&#x27;&gt;&quot; + commit.substr( 0, 10 ) + &quot;&lt;/a&gt;&quot;;
		}

		tests.forEach(function( test ) {
			runs[test] = config.testUrl + commit + &quot;/test/index.html?module=&quot; + test;
		});

		// TODO: create separate job for git/git2 so we can do different browsersets
		testswarm.createClient( {
			url: config.swarmUrl,
			pollInterval: 10000,
			timeout: 1000 * 60 * 30
		} )
		.addReporter( testswarm.reporters.cli )
		.auth( {
			id: config.authUsername,
			token: config.authToken
		})
		.addjob(
			{
				name: jobName,
				runs: runs,
				runMax: config.runMax,
				browserSets: &quot;popular-no-old-ie&quot;
			}, function( err, passed ) {
				if ( err ) {
					grunt.log.error( err );
				}
				done( passed );
			}
		);
	});

	grunt.registerTask( &quot;selector&quot;, &quot;Build Sizzle-based selector module&quot;, function() {

		var cfg = grunt.config(&quot;selector&quot;),
			name = cfg.destFile,
			sizzle = {
				api: grunt.file.read( cfg.apiFile ),
				src: grunt.file.read( cfg.srcFile )
			},
			compiled, parts;

		/**

			sizzle-jquery.js -&gt; sizzle between &quot;EXPOSE&quot; blocks,
			replace define &amp; window.Sizzle assignment


			// EXPOSE
			if ( typeof define === &quot;function&quot; &amp;&amp; define.amd ) {
				define(function() { return Sizzle; });
			} else {
				window.Sizzle = Sizzle;
			}
			// EXPOSE

			Becomes...

			Sizzle.attr = jQuery.attr;
			jQuery.find = Sizzle;
			jQuery.expr = Sizzle.selectors;
			jQuery.expr[&quot;:&quot;] = jQuery.expr.pseudos;
			jQuery.unique = Sizzle.uniqueSort;
			jQuery.text = Sizzle.getText;
			jQuery.isXMLDoc = Sizzle.isXML;
			jQuery.contains = Sizzle.contains;

		 */

		// Break into 3 pieces
		parts = sizzle.src.split(&quot;// EXPOSE&quot;);
		// Replace the if/else block with api
		parts[1] = sizzle.api;
		// Rejoin the pieces
		compiled = parts.join(&quot;&quot;);

		grunt.verbose.writeln(&quot;Injected &quot; + cfg.apiFile + &quot; into &quot; + cfg.srcFile);

		// Write concatenated source to file, and ensure newline-only termination
		grunt.file.write( name, compiled.replace( /\x0d\x0a/g, &quot;\x0a&quot; ) );

		// Fail task if errors were logged.
		if ( this.errorCount ) {
			return false;
		}

		// Otherwise, print a success message.
		grunt.log.writeln( &quot;File &#x27;&quot; + name + &quot;&#x27; created.&quot; );
	});

	// Special &quot;alias&quot; task to make custom build creation less grawlix-y
	grunt.registerTask( &quot;custom&quot;, function() {
		var done = this.async(),
				args = [].slice.call(arguments),
				modules = args.length ? args[0].replace(/,/g, &quot;:&quot;) : &quot;&quot;;


		// Translation example
		//
		//   grunt custom:+ajax,-dimensions,-effects,-offset
		//
		// Becomes:
		//
		//   grunt build:*:*:+ajax:-dimensions:-effects:-offset

		grunt.log.writeln( &quot;Creating custom build...\n&quot; );

		grunt.util.spawn({
			grunt: true,
			args: [ &quot;build:*:*:&quot; + modules, &quot;pre-uglify&quot;, &quot;uglify&quot;, &quot;dist&quot; ]
		}, function( err, result ) {
			if ( err ) {
				grunt.verbose.error();
				done( err );
				return;
			}

			grunt.log.writeln( result.stdout.replace(&quot;Done, without errors.&quot;, &quot;&quot;) );

			done();
		});
	});

	// Special concat/build task to handle various jQuery build requirements
	grunt.registerMultiTask(
		&quot;build&quot;,
		&quot;Concatenate source (include/exclude modules with +/- flags), embed date/version&quot;,
		function() {

			// Concat specified files.
			var compiled = &quot;&quot;,
				modules = this.flags,
				optIn = !modules[&quot;*&quot;],
				explicit = optIn || Object.keys(modules).length &gt; 1,
				name = this.data.dest,
				src = this.data.src,
				deps = {},
				excluded = {},
				version = grunt.config( &quot;pkg.version&quot; ),
				excluder = function( flag, needsFlag ) {
					// optIn defaults implicit behavior to weak exclusion
					if ( optIn &amp;&amp; !modules[ flag ] &amp;&amp; !modules[ &quot;+&quot; + flag ] ) {
						excluded[ flag ] = false;
					}

					// explicit or inherited strong exclusion
					if ( excluded[ needsFlag ] || modules[ &quot;-&quot; + flag ] ) {
						excluded[ flag ] = true;

					// explicit inclusion overrides weak exclusion
					} else if ( excluded[ needsFlag ] === false &amp;&amp;
						( modules[ flag ] || modules[ &quot;+&quot; + flag ] ) ) {

						delete excluded[ needsFlag ];

						// ...all the way down
						if ( deps[ needsFlag ] ) {
							deps[ needsFlag ].forEach(function( subDep ) {
								modules[ needsFlag ] = true;
								excluder( needsFlag, subDep );
							});
						}
					}
				};

			// append commit id to version
			if ( process.env.COMMIT ) {
				version += &quot; &quot; + process.env.COMMIT;
			}

			// figure out which files to exclude based on these rules in this order:
			//  dependency explicit exclude
			//  &gt; explicit exclude
			//  &gt; explicit include
			//  &gt; dependency implicit exclude
			//  &gt; implicit exclude
			// examples:
			//  *                  none (implicit exclude)
			//  *:*                all (implicit include)
			//  *:*:-css           all except css and dependents (explicit &gt; implicit)
			//  *:*:-css:+effects  same (excludes effects because explicit include is trumped by explicit exclude of dependency)
			//  *:+effects         none except effects and its dependencies (explicit include trumps implicit exclude of dependency)
			src.forEach(function( filepath ) {
				var flag = filepath.flag;

				if ( flag ) {

					excluder(flag);

					// check for dependencies
					if ( filepath.needs ) {
						deps[ flag ] = filepath.needs;
						filepath.needs.forEach(function( needsFlag ) {
							excluder( flag, needsFlag );
						});
					}
				}
			});

			// append excluded modules to version
			if ( Object.keys( excluded ).length ) {
				version += &quot; -&quot; + Object.keys( excluded ).join( &quot;,-&quot; );
				// set pkg.version to version with excludes, so minified file picks it up
				grunt.config.set( &quot;pkg.version&quot;, version );
			}


			// conditionally concatenate source
			src.forEach(function( filepath ) {
				var flag = filepath.flag,
						specified = false,
						omit = false,
						messages = [];

				if ( flag ) {
					if ( excluded[ flag ] !== undefined ) {
						messages.push([
							( &quot;Excluding &quot; + flag ).red,
							( &quot;(&quot; + filepath.src + &quot;)&quot; ).grey
						]);
						specified = true;
						omit = !filepath.alt;
						if ( !omit ) {
							flag += &quot; alternate&quot;;
							filepath.src = filepath.alt;
						}
					}
					if ( excluded[ flag ] === undefined ) {
						messages.push([
							( &quot;Including &quot; + flag ).green,
							( &quot;(&quot; + filepath.src + &quot;)&quot; ).grey
						]);

						// If this module was actually specified by the
						// builder, then set the flag to include it in the
						// output list
						if ( modules[ &quot;+&quot; + flag ] ) {
							specified = true;
						}
					}

					filepath = filepath.src;

					// Only display the inclusion/exclusion list when handling
					// an explicit list.
					//
					// Additionally, only display modules that have been specified
					// by the user
					if ( explicit &amp;&amp; specified ) {
						messages.forEach(function( message ) {
							grunt.log.writetableln( [ 27, 30 ], message );
						});
					}
				}

				if ( !omit ) {
					compiled += grunt.file.read( filepath );
				}
			});

			// Embed Version
			// Embed Date
			compiled = compiled.replace( /@VERSION/g, version )
				// yyyy-mm-ddThh:mmZ
				.replace( /@DATE/g, ( new Date() ).toISOString().replace( /:\d+\.\d+Z$/, &quot;Z&quot; ) );

			// Write concatenated source to file
			grunt.file.write( name, compiled );

			// Fail task if errors were logged.
			if ( this.errorCount ) {
				return false;
			}

			// Otherwise, print a success message.
			grunt.log.writeln( &quot;File &#x27;&quot; + name + &quot;&#x27; created.&quot; );
		});

	// Process files for distribution
	grunt.registerTask( &quot;dist&quot;, function() {
		var stored, flags, paths, fs, nonascii;

		// Check for stored destination paths
		// ( set in dist/.destination.json )
		stored = Object.keys( grunt.config( &quot;dst&quot; ) );

		// Allow command line input as well
		flags = Object.keys( this.flags );

		// Combine all output target paths
		paths = [].concat( stored, flags ).filter(function( path ) {
			return path !== &quot;*&quot;;
		});

		// Ensure the dist files are pure ASCII
		fs = require( &quot;fs&quot; );
		nonascii = false;

		distpaths.forEach(function( filename ) {
			var i, c,
				text = fs.readFileSync( filename, &quot;utf8&quot; );

			// Ensure files use only \n for line endings, not \r\n
			if ( /\x0d\x0a/.test( text ) ) {
				grunt.log.writeln( filename + &quot;: Incorrect line endings (\\r\\n)&quot; );
				nonascii = true;
			}

			// Ensure only ASCII chars so script tags don&#x27;t need a charset attribute
			if ( text.length !== Buffer.byteLength( text, &quot;utf8&quot; ) ) {
				grunt.log.writeln( filename + &quot;: Non-ASCII characters detected:&quot; );
				for ( i = 0; i &lt; text.length; i++ ) {
					c = text.charCodeAt( i );
					if ( c &gt; 127 ) {
						grunt.log.writeln( &quot;- position &quot; + i + &quot;: &quot; + c );
						grunt.log.writeln( &quot;-- &quot; + text.substring( i - 20, i + 20 ) );
						break;
					}
				}
				nonascii = true;
			}

			// Modify map/min so that it points to files in the same folder;
			// see https://github.com/mishoo/UglifyJS2/issues/47
			if ( /\.map$/.test( filename ) ) {
				text = text.replace( /&quot;dist\//g, &quot;\&quot;&quot; );
				fs.writeFileSync( filename, text, &quot;utf-8&quot; );

			// Use our hard-coded sourceMap directive instead of the autogenerated one (#13274; #13776)
			} else if ( /\.min\.js$/.test( filename ) ) {
				i = 0;
				text = text.replace( /(?:\/\*|)\n?\/\/@\s*sourceMappingURL=.*(\n\*\/|)/g,
					function( match ) {
						if ( i++ ) {
							return &quot;&quot;;
						}
						return match;
					});
				fs.writeFileSync( filename, text, &quot;utf-8&quot; );
			}

			// Optionally copy dist files to other locations
			paths.forEach(function( path ) {
				var created;

				if ( !/\/$/.test( path ) ) {
					path += &quot;/&quot;;
				}

				created = path + filename.replace( &quot;dist/&quot;, &quot;&quot; );
				grunt.file.write( created, text );
				grunt.log.writeln( &quot;File &#x27;&quot; + created + &quot;&#x27; created.&quot; );
			});
		});

		return !nonascii;
	});

	// Work around grunt-contrib-uglify sourceMap issues (jQuery #13776)
	grunt.registerMultiTask( &quot;pre-uglify&quot;, function() {
		var banner = this.options().banner;

		this.files.forEach(function( mapping ) {
			// Join src
			var input = mapping.src.map(function( file ) {
				var contents = grunt.file.read( file );

				// Strip banners
				return contents
					// Remove the main jQuery banner, it&#x27;ll be replaced by the new banner anyway.
					.replace( /^\/\*!(?:.|\n)*?\*\/\n?/g, &quot;&quot; )
					// Strip other banners preserving line count.
					.replace( /^\/\*!(?:.|\n)*?\*\/\n?/gm, function ( match ) {
						return match.replace( /[^\n]/gm, &quot;&quot; );
					});
			}).join(&quot;\n&quot;);

			// Write temp file (with optional banner)
			grunt.file.write( mapping.dest, ( banner || &quot;&quot; ) + input );
		});
	});

	// Change the map file to point back to jquery.js instead of jquery.pre-min.js.
	// The problem is caused by the pre-uglify task.
	// Also, remove temporary files.
	grunt.registerMultiTask( &quot;post-uglify&quot;, function() {
		var fs = require( &quot;fs&quot; );

		this.files.forEach(function( mapping ) {
			var mapFileName = mapping.src[ 0 ];

			// Rename the file to a temporary name.
			fs.renameSync( mapFileName, mapping.dest);
			grunt.file.write( mapFileName, grunt.file.read( mapping.dest )
				// The uglify task erroneously prepends dist/ to file names.
				.replace( /&quot;dist\//g, &quot;\&quot;&quot; )
				// Refer to the source jquery.js, not the temporary jquery.pre-min.js.
				.replace( /\.pre-min\./g, &quot;.&quot; )
				// There&#x27;s already a pragma at the beginning of the file, remove the one at the end.
				.replace( /\/\/@ sourceMappingURL=jquery\.min\.map$/g, &quot;&quot; ));
		});

		// Remove temporary files.
		this.options().tempFiles.forEach(function( fileName ) {
			fs.unlink( fileName );
		});
	});

	// Load grunt tasks from NPM packages
	grunt.loadNpmTasks(&quot;grunt-compare-size&quot;);
	grunt.loadNpmTasks(&quot;grunt-git-authors&quot;);
	grunt.loadNpmTasks(&quot;grunt-update-submodules&quot;);
	grunt.loadNpmTasks(&quot;grunt-contrib-watch&quot;);
	grunt.loadNpmTasks(&quot;grunt-contrib-jshint&quot;);
	grunt.loadNpmTasks(&quot;grunt-contrib-uglify&quot;);

	// Default grunt
	grunt.registerTask( &quot;default&quot;, [ &quot;update_submodules&quot;, &quot;selector&quot;, &quot;build:*:*&quot;, &quot;jshint&quot;, &quot;pre-uglify&quot;, &quot;uglify&quot;, &quot;post-uglify&quot;, &quot;dist:*&quot;, &quot;compare_size&quot; ] );

	// Short list as a high frequency watch task
	grunt.registerTask( &quot;dev&quot;, [ &quot;selector&quot;, &quot;build:*:*&quot;, &quot;jshint&quot; ] );
};

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
