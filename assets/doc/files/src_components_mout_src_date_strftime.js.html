<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/components/mout/src/date/strftime.js - lavaca</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="lavaca"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 2.3.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/lavaca.env.Device.html">lavaca.env.Device</a></li>
            
                <li><a href="../classes/lavaca.events.EventDispatcher.html">lavaca.events.EventDispatcher</a></li>
            
                <li><a href="../classes/lavaca.fx.Animation.html">lavaca.fx.Animation</a></li>
            
                <li><a href="../classes/lavaca.fx.Spring.html">lavaca.fx.Spring</a></li>
            
                <li><a href="../classes/lavaca.fx.Transform.html">lavaca.fx.Transform</a></li>
            
                <li><a href="../classes/lavaca.fx.Transition.html">lavaca.fx.Transition</a></li>
            
                <li><a href="../classes/lavaca.mvc.Application.html">lavaca.mvc.Application</a></li>
            
                <li><a href="../classes/lavaca.mvc.AttributeEvent.html">lavaca.mvc.AttributeEvent</a></li>
            
                <li><a href="../classes/lavaca.mvc.Collection.html">lavaca.mvc.Collection</a></li>
            
                <li><a href="../classes/lavaca.mvc.Controller.html">lavaca.mvc.Controller</a></li>
            
                <li><a href="../classes/lavaca.mvc.ItemEvent.html">lavaca.mvc.ItemEvent</a></li>
            
                <li><a href="../classes/lavaca.mvc.Model.html">lavaca.mvc.Model</a></li>
            
                <li><a href="../classes/lavaca.mvc.Route.html">lavaca.mvc.Route</a></li>
            
                <li><a href="../classes/lavaca.mvc.Router.html">lavaca.mvc.Router</a></li>
            
                <li><a href="../classes/lavaca.mvc.View.html">lavaca.mvc.View</a></li>
            
                <li><a href="../classes/lavaca.mvc.ViewManager.html">lavaca.mvc.ViewManager</a></li>
            
                <li><a href="../classes/lavaca.net.Connectivity.html">lavaca.net.Connectivity</a></li>
            
                <li><a href="../classes/lavaca.net.History.html">lavaca.net.History</a></li>
            
                <li><a href="../classes/lavaca.storage.LocalStore.html">lavaca.storage.LocalStore</a></li>
            
                <li><a href="../classes/lavaca.storage.Store.html">lavaca.storage.Store</a></li>
            
                <li><a href="../classes/lavaca.ui.DustTemplate.html">lavaca.ui.DustTemplate</a></li>
            
                <li><a href="../classes/lavaca.ui.Form.html">lavaca.ui.Form</a></li>
            
                <li><a href="../classes/lavaca.ui.LoadingIndicator.html">lavaca.ui.LoadingIndicator</a></li>
            
                <li><a href="../classes/lavaca.ui.Template.html">lavaca.ui.Template</a></li>
            
                <li><a href="../classes/lavaca.ui.Widget.html">lavaca.ui.Widget</a></li>
            
                <li><a href="../classes/lavaca.util.ArrayUtils.html">lavaca.util.ArrayUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Cache.html">lavaca.util.Cache</a></li>
            
                <li><a href="../classes/lavaca.util.Config.html">lavaca.util.Config</a></li>
            
                <li><a href="../classes/lavaca.util.DateUtils.html">lavaca.util.DateUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Disposable.html">lavaca.util.Disposable</a></li>
            
                <li><a href="../classes/lavaca.util.extend.html">lavaca.util.extend</a></li>
            
                <li><a href="../classes/lavaca.util.Map.html">lavaca.util.Map</a></li>
            
                <li><a href="../classes/lavaca.util.Promise.html">lavaca.util.Promise</a></li>
            
                <li><a href="../classes/lavaca.util.resolve.html">lavaca.util.resolve</a></li>
            
                <li><a href="../classes/lavaca.util.StringUtils.html">lavaca.util.StringUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Translation.html">lavaca.util.Translation</a></li>
            
                <li><a href="../classes/lavaca.util.uuid.html">lavaca.util.uuid</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/components/mout/src/date/strftime.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
define([&#x27;../number/pad&#x27;, &#x27;./i18n_&#x27;, &#x27;./dayOfTheYear&#x27;, &#x27;./timezoneOffset&#x27;, &#x27;./timezoneAbbr&#x27;, &#x27;./weekOfTheYear&#x27;], function (pad, i18n, dayOfTheYear, timezoneOffset, timezoneAbbr, weekOfTheYear) {

    var _combinations = {
        &#x27;D&#x27;: &#x27;%m/%d/%y&#x27;,
        &#x27;F&#x27;: &#x27;%Y-%m-%d&#x27;,
        &#x27;r&#x27;: &#x27;%I:%M:%S %p&#x27;,
        &#x27;R&#x27;: &#x27;%H:%M&#x27;,
        &#x27;T&#x27;: &#x27;%H:%M:%S&#x27;,
        &#x27;x&#x27;: &#x27;locale&#x27;,
        &#x27;X&#x27;: &#x27;locale&#x27;,
        &#x27;c&#x27;: &#x27;locale&#x27;
    };


    /**
     * format date based on strftime format
     */
    function strftime(date, format, localeData){
        localeData = localeData  || i18n;
        var reToken = /%([a-z%])/gi;

        function makeIterator(fn) {
            return function(match, token){
                return fn(date, token, localeData);
            };
        }

        return format
            .replace(reToken, makeIterator(expandCombinations))
            .replace(reToken, makeIterator(convertToken));
    }


    function expandCombinations(date, token, l10n){
        if (token in _combinations) {
            var expanded = _combinations[token];
            return expanded === &#x27;locale&#x27;? l10n[token] : expanded;
        } else {
            return &#x27;%&#x27;+ token;
        }
    }


    function convertToken(date, token, l10n){
        switch (token){
            case &#x27;a&#x27;:
                return l10n.days_abbr[date.getDay()];
            case &#x27;A&#x27;:
                return l10n.days[date.getDay()];
            case &#x27;h&#x27;:
            case &#x27;b&#x27;:
                return l10n.months_abbr[date.getMonth()];
            case &#x27;B&#x27;:
                return l10n.months[date.getMonth()];
            case &#x27;C&#x27;:
                return pad(Math.floor(date.getFullYear() / 100), 2);
            case &#x27;d&#x27;:
                return pad(date.getDate(), 2);
            case &#x27;e&#x27;:
                return pad(date.getDate(), 2, &#x27; &#x27;);
            case &#x27;H&#x27;:
                return pad(date.getHours(), 2);
            case &#x27;I&#x27;:
                return pad(date.getHours() % 12, 2);
            case &#x27;j&#x27;:
                return pad(dayOfTheYear(date), 3);
            case &#x27;L&#x27;:
                return pad(date.getMilliseconds(), 3);
            case &#x27;m&#x27;:
                return pad(date.getMonth() + 1, 2);
            case &#x27;M&#x27;:
                return pad(date.getMinutes(), 2);
            case &#x27;n&#x27;:
                return &#x27;\n&#x27;;
            case &#x27;p&#x27;:
                return date.getHours() &gt;= 12? l10n.pm : l10n.am;
            case &#x27;P&#x27;:
                return convertToken(date, &#x27;p&#x27;, l10n).toLowerCase();
            case &#x27;s&#x27;:
                return date.getTime() / 1000;
            case &#x27;S&#x27;:
                return pad(date.getSeconds(), 2);
            case &#x27;t&#x27;:
                return &#x27;\t&#x27;;
            case &#x27;u&#x27;:
                var day = date.getDay();
                return day === 0? 7 : day;
            case &#x27;U&#x27;:
                return pad(weekOfTheYear(date), 2);
            case &#x27;w&#x27;:
                return date.getDay();
            case &#x27;W&#x27;:
                return pad(weekOfTheYear(date, 1), 2);
            case &#x27;y&#x27;:
                return pad(date.getFullYear() % 100, 2);
            case &#x27;Y&#x27;:
                return pad(date.getFullYear(), 4);
            case &#x27;z&#x27;:
                return timezoneOffset(date);
            case &#x27;Z&#x27;:
                return timezoneAbbr(date);
            case &#x27;%&#x27;:
                return &#x27;%&#x27;;
            default:
                // keep unrecognized tokens
                return &#x27;%&#x27;+ token;
        }
    }


    return strftime;

});

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
