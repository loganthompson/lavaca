<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/components/dustjs-linkedin-helpers/dist/dust-helpers-1.0.0.js - lavaca</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="lavaca"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 2.3.2</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/lavaca.env.Device.html">lavaca.env.Device</a></li>
            
                <li><a href="../classes/lavaca.events.EventDispatcher.html">lavaca.events.EventDispatcher</a></li>
            
                <li><a href="../classes/lavaca.fx.Animation.html">lavaca.fx.Animation</a></li>
            
                <li><a href="../classes/lavaca.fx.Spring.html">lavaca.fx.Spring</a></li>
            
                <li><a href="../classes/lavaca.fx.Transform.html">lavaca.fx.Transform</a></li>
            
                <li><a href="../classes/lavaca.fx.Transition.html">lavaca.fx.Transition</a></li>
            
                <li><a href="../classes/lavaca.mvc.Application.html">lavaca.mvc.Application</a></li>
            
                <li><a href="../classes/lavaca.mvc.AttributeEvent.html">lavaca.mvc.AttributeEvent</a></li>
            
                <li><a href="../classes/lavaca.mvc.Collection.html">lavaca.mvc.Collection</a></li>
            
                <li><a href="../classes/lavaca.mvc.Controller.html">lavaca.mvc.Controller</a></li>
            
                <li><a href="../classes/lavaca.mvc.ItemEvent.html">lavaca.mvc.ItemEvent</a></li>
            
                <li><a href="../classes/lavaca.mvc.Model.html">lavaca.mvc.Model</a></li>
            
                <li><a href="../classes/lavaca.mvc.Route.html">lavaca.mvc.Route</a></li>
            
                <li><a href="../classes/lavaca.mvc.Router.html">lavaca.mvc.Router</a></li>
            
                <li><a href="../classes/lavaca.mvc.View.html">lavaca.mvc.View</a></li>
            
                <li><a href="../classes/lavaca.mvc.ViewManager.html">lavaca.mvc.ViewManager</a></li>
            
                <li><a href="../classes/lavaca.net.Connectivity.html">lavaca.net.Connectivity</a></li>
            
                <li><a href="../classes/lavaca.net.History.html">lavaca.net.History</a></li>
            
                <li><a href="../classes/lavaca.storage.LocalStore.html">lavaca.storage.LocalStore</a></li>
            
                <li><a href="../classes/lavaca.storage.Store.html">lavaca.storage.Store</a></li>
            
                <li><a href="../classes/lavaca.ui.DustTemplate.html">lavaca.ui.DustTemplate</a></li>
            
                <li><a href="../classes/lavaca.ui.Form.html">lavaca.ui.Form</a></li>
            
                <li><a href="../classes/lavaca.ui.LoadingIndicator.html">lavaca.ui.LoadingIndicator</a></li>
            
                <li><a href="../classes/lavaca.ui.Template.html">lavaca.ui.Template</a></li>
            
                <li><a href="../classes/lavaca.ui.Widget.html">lavaca.ui.Widget</a></li>
            
                <li><a href="../classes/lavaca.util.ArrayUtils.html">lavaca.util.ArrayUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Cache.html">lavaca.util.Cache</a></li>
            
                <li><a href="../classes/lavaca.util.Config.html">lavaca.util.Config</a></li>
            
                <li><a href="../classes/lavaca.util.DateUtils.html">lavaca.util.DateUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Disposable.html">lavaca.util.Disposable</a></li>
            
                <li><a href="../classes/lavaca.util.extend.html">lavaca.util.extend</a></li>
            
                <li><a href="../classes/lavaca.util.Map.html">lavaca.util.Map</a></li>
            
                <li><a href="../classes/lavaca.util.Promise.html">lavaca.util.Promise</a></li>
            
                <li><a href="../classes/lavaca.util.resolve.html">lavaca.util.resolve</a></li>
            
                <li><a href="../classes/lavaca.util.StringUtils.html">lavaca.util.StringUtils</a></li>
            
                <li><a href="../classes/lavaca.util.Translation.html">lavaca.util.Translation</a></li>
            
                <li><a href="../classes/lavaca.util.uuid.html">lavaca.util.uuid</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/components/dustjs-linkedin-helpers/dist/dust-helpers-1.0.0.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
//
// Dust-helpers - Addional functionality for dustjs-linkedin package v1.0.0
//
// Copyright (c) 2012, LinkedIn
// Released under the MIT License.
//

(function(){

if (typeof exports !== &quot;undefined&quot;)
{
  dust = require(&quot;dustjs-linkedin&quot;);
}

/* make a safe version of console if it is not available
 * currently supporting:
 *   _console.log
 * */
var _console = (typeof console !== &#x27;undefined&#x27;)? console: {
  log: function(){
     /* a noop*/
   }
};

function isSelect(context) {
  var value = context.current();
  return typeof value === &quot;object&quot; &amp;&amp; value.isSelect === true;
}

function filter(chunk, context, bodies, params, filter) {
  var params = params || {},
      actual,
      expected;
  if (params.key) {
    actual = helpers.tap(params.key, chunk, context);
  } else if (isSelect(context)) {
    actual = context.current().selectKey;
    if (context.current().isResolved) {
      filter = function() { return false; };
    }
  } else {
    throw &quot;No key specified for filter and no key found in context from select statement&quot;;
  }
  expected = helpers.tap(params.value, chunk, context);
  if (filter(expected, coerce(actual, params.type, context))) {
    if (isSelect(context)) {
      context.current().isResolved = true;
    }
    return chunk.render(bodies.block, context);
  } else if (bodies[&#x27;else&#x27;]) {
    return chunk.render(bodies[&#x27;else&#x27;], context);
  }

  return chunk.write(&#x27;&#x27;);
}

function coerce (value, type, context) {
  if (value) {
    switch (type || typeof(value)) {
      case &#x27;number&#x27;: return +value;
      case &#x27;string&#x27;: return String(value);
      case &#x27;boolean&#x27;: return Boolean(value);
      case &#x27;date&#x27;: return new Date(value);
      case &#x27;context&#x27;: return context.get(value);
    }
  }

  return value;
}

var helpers = {
  
  sep: function(chunk, context, bodies) {
    if (context.stack.index === context.stack.of - 1) {
      return chunk;
    }
    return bodies.block(chunk, context);
  },

  idx: function(chunk, context, bodies) {
    return bodies.block(chunk, context.push(context.stack.index));
  },
  
  contextDump: function(chunk, context, bodies) {
    _console.log(JSON.stringify(context.stack.head));
    return chunk;
  },
  
  // Utility helping to resolve dust references in the given chunk
  tap: function( input, chunk, context ){
    // return given input if there is no dust reference to resolve
    var output = input;
    // dust compiles a string to function, if there are references
    if( typeof input === &quot;function&quot;){
      if( ( typeof input.isReference !== &quot;undefined&quot; ) &amp;&amp; ( input.isReference === true ) ){ // just a plain function, not a dust &#x60;body&#x60; function
        output = input();
      } else {
        output = &#x27;&#x27;;
        chunk.tap(function(data){
          output += data;
          return &#x27;&#x27;;
        }).render(input, context).untap();
        if( output === &#x27;&#x27; ){
          output = false;
        }
      }
    }
    return output;
  },

  /**
  if helper
   @param cond, either a string literal value or a dust reference
                a string literal value, is enclosed in double quotes, e.g. cond=&quot;2&gt;3&quot;
                a dust reference is also enclosed in double quotes, e.g. cond=&quot;&#x27;{val}&#x27;&#x27; &gt; 3&quot;
    cond argument should evaluate to a valid javascript expression
   **/

  &quot;if&quot;: function( chunk, context, bodies, params ){
    if( params &amp;&amp; params.cond ){
      var cond = params.cond;
      cond = this.tap(cond, chunk, context);
      // eval expressions with given dust references
      if( eval( cond ) ){
       return chunk.render( bodies.block, context );
      }
      if( bodies[&#x27;else&#x27;] ){
       return chunk.render( bodies[&#x27;else&#x27;], context );
      }
    }
    // no condition
    else {
      _console.log( &quot;No condition given in the if helper!&quot; );
    }
    return chunk;
  },
  
  /**
   * math helper
   * @param key is the value to perform math against
   * @param eq is the value to test for equality with key
   * @param method is the math method we will employ
   * in the absence of an equality test
   * @param operand is the second value needed for
   * operations like mod, add, subtract, etc.
   */
  &quot;math&quot;: function ( chunk, context, bodies, params ) {
    //make sure we have key and eq or method params before continuing
    if( params &amp;&amp; params.key &amp;&amp; (params.eq ||  params.method) ){
      var key  = params.key;
      key  = this.tap(key, chunk, context);
      if (params.eq) {
        var eq = params.eq;
        eq = this.tap(eq, chunk, context);
        return chunk.write(key === eq);
      }
      //we are going to operate with math methods if not equals
      else {
        var method = params.method;
        var operand = params.operand || null;
        var operError = function(){_console.log(&quot;operand is required for this math method&quot;)};
        var returnExpression = function(exp){chunk.write( exp )};
        if (operand) {
          operand = this.tap(operand, chunk, context);
        }
        switch(method) {
            case &quot;mod&quot;:
              (operand) ? returnExpression( parseFloat(key) % parseFloat(operand) ) : operError();
              break;
            case &quot;add&quot;:
              (operand) ? returnExpression( parseFloat(key) + parseFloat(operand) ) : operError();
              break;
            case &quot;subtract&quot;:
              (operand) ? returnExpression( parseFloat(key) - parseFloat(operand) ) : operError();
              break;
            case &quot;multiply&quot;:
              (operand) ? returnExpression( parseFloat(key) * parseFloat(operand) ) : operError();
              break;
            case &quot;divide&quot;:
              (operand) ? returnExpression( parseFloat(key) / parseFloat(operand) ) : operError();
              break;
            case &quot;ceil&quot;:
              returnExpression( Math.ceil(parseFloat(key)) );
              break;
            case &quot;floor&quot;:
              returnExpression( Math.floor(parseFloat(key)) );
              break;
            case &quot;abs&quot;:
              returnExpression( Math.abs(parseFloat(key)) );
              break;
            default:
              _console.log( &quot;method passed is not supported&quot; );
        }
      }
    }
    // no key parameter and no method or eq passed
    else {
      _console.log( &quot;Key is a required parameter along with eq or method/operand!&quot; );
    }
    return chunk;
  },
   /**
   select/eq/lt/lte/gt/gte/default helper
   @param key, either a string literal value or a dust reference
                a string literal value, is enclosed in double quotes, e.g. key=&quot;foo&quot;
                a dust reference may or may not be enclosed in double quotes, e.g. key=&quot;{val}&quot; and key=val are both valid
   @param type (optiona), supported types are  number, boolean, string, date, context, defaults to string
   **/
  select: function(chunk, context, bodies, params) {
    if( params &amp;&amp; params.key){
      // returns given input as output, if the input is not a dust reference, else does a context lookup
      var key = this.tap(params.key, chunk, context);
      return chunk.render(bodies.block, context.push({ isSelect: true, isResolved: false, selectKey: key }));
    }
    // no key
    else {
      _console.log( &quot;No key given in the select helper!&quot; );
    }
    return chunk;
  },

  eq: function(chunk, context, bodies, params) {
    return filter(chunk, context, bodies, params, function(expected, actual) { return actual === expected; });
  },

  lt: function(chunk, context, bodies, params) {
    return filter(chunk, context, bodies, params, function(expected, actual) { return actual &lt; expected; });
  },

  lte: function(chunk, context, bodies, params) {
    return filter(chunk, context, bodies, params, function(expected, actual) { return actual &lt;= expected; });
  },

  gt: function(chunk, context, bodies, params) {
    return filter(chunk, context, bodies, params, function(expected, actual) { return actual &gt; expected; });
  },

  gte: function(chunk, context, bodies, params) {
    return filter(chunk, context, bodies, params, function(expected, actual) { return actual &gt;= expected; });
  },

  &quot;default&quot;: function(chunk, context, bodies, params) {
    return filter(chunk, context, bodies, params, function(expected, actual) { return true; });
  },
  &quot;size&quot;: function( chunk, context, bodies, params ) {
    var subject = params.subject;
    var value   = 0;
    if (!subject) { //undefined, &quot;&quot;, 0
      value = 0;
    }
    else if(dust.isArray(subject)) { //array
      value = subject.length;
    }
    else if (!isNaN(subject)) { //numeric values
      value = subject;
    }
    else if (Object(subject) === subject) { //object test
      var nr = 0;
      for(var k in subject)
        if(Object.hasOwnProperty.call(subject,k)) nr++;
          value = nr;
    } else {
      value = (subject + &#x27;&#x27;).length; //any other value (strings etc.)
    }
    return chunk.write(value);
  }
};

dust.helpers = helpers;

if (typeof exports !== &quot;undefined&quot;)
{
  module.exports = dust;
}
})();

    </pre>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
